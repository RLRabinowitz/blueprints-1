version: 1

deploy:
  onCompletion: 
    - echo "deploy onCompletion 1"
  onSuccess: 
    - echo "deploy onSuccess"
  onFailure: 
    - echo "deploy onFailure"

  steps:
    setupVariables:
      after: 
        - echo "after setupVariables"

    terraformInit:
      before: 
        - echo "before terraformInit"
      after: 
        - echo "after terraformInit"

    terraformPlan:
      before: 
        - echo "before terraformPlan"
      after: 
        - echo "after terraformPlan"

    terraformPlanApproval:
      before: 
        - echo "before terraformPlanApproval"
      after: 
        - echo "after terraformPlanApproval"

    terraformApply:
      before: 
        - echo "before terraformApply"
      after: 
        - echo "after terraformApply"

    storeState:
      before: 
        - echo "before storeState"
      after: 
        - echo "after storeState"

    terraformOutput:
      before: 
        - echo "before terraformOutput"
      after: 
        - echo "after terraformOutput"

destroy:
  onCompletion: 
    - echo "destroy onCompletion 1"
  onSuccess: 
    - echo "destroy onSuccess"
  onFailure: 
    - echo "destroy onFailure"

  steps:
    setupVariables:
      after: 
        - echo "after setupVariables"

    terraformInit:
      before: 
        - echo "before terraformInit"
      after: 
        - echo "after terraformInit"

    terraformPlan:
      before: 
        - echo "before terraformPlan"
      after: 
        - echo "after terraformPlan"

    terraformPlanApproval:
      before: 
        - echo "before terraformPlanApproval"
      after: 
        - echo "after terraformPlanApproval"

    terraformDestroy:
      before: 
        - echo "before terraformDestroy 1"
      after: 
        - echo "after terraformDestroy 1"
